## 闭包

何为闭包，一般是指那些引用了另一个函数作用域中变量的内部函数。简单来说就是内部函数引用外部函数中的变量，包含被引用变量（函数）的对象。

在一个函数内部定义的函数会把其包含函数的活动对象添加到自己的作用域中。其中自身的活动对象在作用域链的最前面。

活动对象（只在函数执行是存在）：在每个执行上下文中都会有一个包含其中变量的对象。在函数局部上下文中叫活动对象。

[[Scope]]: 用于创建作用域链，简单来说就是，一开始定义函数时会将全局变量预装载放入 [[Scope]] 中，然后调用的时候会复制函数的 [[Scope]] 来创建作用域链，接着将函数的活动对象推入作用域链前端。

正常的函数是，执行完毕后，局部活动对象被销毁，而闭包不一样，它是将把它包含的函数的作用域添加入到自己的作用域中，然后将自己的活动对象推入到作用域前端

作用域：分为全局作用域（整个程序都可以访问到的），函数作用域（函数内部变量可访问的范围，每调用一次函数，就会创建新的作用域，函数执行完成，局部变量销毁），块级作用域。

作用域链：多个嵌套的作用域组成的链表结构，决定了变量和函数的查找顺序，js会从当前作用域进行查找，如果找不到这个名称的标识符，就继续向上一级查找，直到找到全局作用域，若还是没有，则将其定义为 undefined

闭包是指那些引用了另一个函数作用域中变量的内部函数。通过作用域来解释，函数执行的时候，在每个执行上下文中都会有一个包含其中变量的对象，在全局上下文中变量对象，在函数局部上下文中叫活动对象。接着函数定义的时候，会创建作用域链，然后预装载全局变量对象，并添加在函数内部的 [[Scope]] 中，当函数执行的时候，会创建相应执行上下文，然后复制 [[Scope]] 用来创建相应的作用域链，并创建函数的活动对象然后推入作用域链的前端。闭包就是把将它包含的函数的作用域添加到自己的作用域中，也就是将把它包含的函数作用域中的变量添加到自己的作用域中，然后将活动变量推入前端，这样就形成了自己的作用域链了，然后按照作用域链的查找规律，就可访问外部函数的变量了。
