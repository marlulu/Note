# CSS 层叠样式表
___

1. @规则
   - @namespace 告诉CSS引擎必须考虑XML命名空间
   - @media 根据设备的不同特性来应用不同的样式，使网页适应不同设备
   - @page 描述打印文档时的布局变化
   - @font-face 描述将下载的外部字体
   - @keyframes 描述 CSS动画的关键帧
   - @document 如果文档样式表满足给定条件则条件规则组里的规则生效
   - @charset 定义样式表使用的字符集
   - @import 告诉CSS引擎引入一个外部样式表
   - @supports 用于查询特定的CSS是否生效

2. 层叠上下文
   - 屏幕到眼睛方向的Z轴，各HTML元素根据自己定义的属性的优先级在Z轴干一定顺序排开
   - 层叠水平：同一层叠上下文中元素在Z轴上的显示顺序
   - 产生条件
     - html 根元素
     - 声明 position：absolute/relative 且 z-index 值不为 auto 的元素
     - 声明 position：fixed/sticky 的元素
     - flex 容器的子元素，且 z-index 值不为 auto
     - grid 容器的子元素，且 z-index 值不为 auto
     - opacity 属性小于 1 的元素
     - mix-blend-mode 属性值不为 normal 的元素
       - 用于控制一个元素与它下面元素之间的混合模式
     - 以下任意属性值不为 none
       - transform
       - filter
       - perspective
       - clip-path
       - mask / mask-image / mask-border
     - isolation 属性值为 isolate的元素
       - 用于控制元素是否创建一个新合成层，以及如何处理元素与其周围元素的混合模式
     - -webkit-overflow-scrolling 属性值为 touch 的元素
       - -webkit-overflow-scrolling 用于控制滚动容器在移动设备（尤其是 iOS 设备）上的滚动行为的 CSS 属性
     - will-change 属性任意值
     - contain 值为 layout、paint、strict、content
   
   - 层叠优先级（越往下越高级）
     - 层叠上下文的 border 和 background
     - z-index < 0 的子节点
     - 标准流内块级的非定位子节点
     - 浮动非定位的子节点
     - 标准流内行内非定位的子节点
     - z-index auto/0 的子节点
     - z-index > 0的子节点

3. 选择器
   - 基础选择器
     - 标签选择器：h1
     - 类选择器：.class
     - ID选择器: #class
     - 通配选择器: *
     
   - 属性选择器
     - [attr]：指定属性的元素
     - [attr = val]：属性等于指定值的元素
     - [attr *= val]：属性包含指定值的元素
     - [attr ^= val]：属性指定值开头的元素
     - [attr $= val]：属性已制定值结尾的元素
     - [attr ~= val]：属性包含指定值（完整单词）元素
     - [attr |= val]：属性以指定值（完整元素）开头的元素
     
   - 组合选择器
     - 相邻兄弟选择器：A + B （A后面的 B的样式，必须紧挨着，中间不能有隔的元素）
     - 普通兄弟选择器：A ~ B （A后面的所有 B）
     - 子选择器：A > B （只选择后代，不间接选择后代）
     - 后代选择器：A B （A 后面所有的 B）
     
   - 伪类：用于选择处于特定状态的元素
     - 条件伪类
       - :lang(): 基于元素语言来匹配元素，常用国际化
       - :dir(): 匹配特定文字书写方向的元素，ltr（从左到右），rtl（从右到左）
       - :has(): 匹配包含指定元素的元素，（元素）
       - :is(): 匹配指定选择器列表里的元素，（可包含多个选择器）
       - :not(): 匹配不符合一组选择器的元素，排除

     - 行为伪类
       - :hover 鼠标悬停在元素上的状态
       - :active 鼠标点击元素的状态
       
     - 状态伪类
       - :target 匹配当前URL中锚点（即URL中#号后面的部分）所指向的元素
       - :focus 当获取元素焦点时
       - :visited 用于选择已经被用户访问过的链接
       - :link 用于选择未被访问过的链接
       - :required：输入必填的表单元素
       - :valid：输入合法的表单元素（仅适用于那些具有验证规则的表单元素）
       - :invalid：输入非法的表单元素（适用同上）
       - :in-range：输入范围以内的表单元素
       - :checked 用于选择被用户选中的表单元素，如单选按钮、复选框等
       - :disabled 用于选择被禁用的表单元素
       - :enabled：事件启用的表单元素；
       - :read-only：只读的表单元素；
       - :read-write：可读可写的表单元素
       - :blank：输入为空的表单元素
       - :in-range：输入范围以内的表单元素（由 min 和 max 属性所定义的指定范围内的表单元素）
       - :out-of-range：输入范围以外的表单元素（同上）
       
     - 结构伪类
       - :root：文档的根元素，定义全局变量
       - :first-letter：块级元素的文本内容的首字母
       - :first-line：块级元素的文本内容的首行
       - :first-child：元素中为首的元素
       - :last-child：元素中为尾的元素
       - :only-child: 唯一子元素的元素
       - :nth-child(n)：元素在其父元素下的位置，顺序
         - 整数：直接选择第几个子元素
         - 关键字：even（偶数），odd（奇数）
         - 公式：an + b：an表示步长，正数an表示正序，负数an表示倒数
       - :nth-last-child(n)：元素中指定逆序索引的元素
         - 同上，但为倒序
       - :nth-of-type(n)：标签中指定顺序索引的标签，基于元素类型，而非元素在父元素下的整体位置
       - :nth-last-of-type(n)：标签中指定逆序索引的标签
       - :first-of-type ：标签中为首的标签；
       - :last-of-type：标签中为尾标签；
       - :only-of-type：父元素仅有该标签的标签；
         
     - 伪元素：用于选择页面上的特定部分并对其应用样式。它们不是真实存在的DOM元素，而是由CSS创建和管理的虚拟元素。
       - ::before 在选中元素的内容之前插入虚拟元素
       - ::after 在选中元素的内容之后插入虚拟元素
       - ::selection: 定义用户选中（高亮）文本时的样式
       - ::first-letter：选中元素的第一个字母，并对其进行样式化。这通常用于实现首字母下沉等效果。
       - ::first-line：选中元素的第一行文本，并对其进行样式化。
       
4. 优先级
   - 10000：!important
   - 01000：内联样式
   - 00100：ID选择器
   - 00010：类选择器，伪类选择器，属性选择器
   - 00001：元素选择器，伪元素选择器
   - 00000：通配选择器，后代选择器，兄弟选择器

5. 继承性
   - 子元素会继承父元素对应属性计算后的值，不会影响页面布局的属性

6. 文档流
   - 块级元素默认会占满整行，所以多个块级盒子之间是从上到下排列的；
   - 内联元素默认会在一行里一列一列的排布，当一行放不下的时候，会自动切换到下一行继续按照列排布
   - 如何脱离文档流
     - 在正常文档流中的其他节点将忽略该节点并填补其原先空间
     - 方法：浮动（float）和定位（absolute，fixed）

7. 盒模型
   - 标准盒模型
      - 盒子的实际尺寸 = 内容（设置的宽/高） + 内边距 + 边框
   - IE 盒模型
      - 盒子的实际尺寸 = 设置的宽/高 = 内容 + 内边距 + 边框
   
   - 视觉格式化模型